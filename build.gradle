buildscript {
  ext.kotlin_version = '1.3.11'

  repositories {
    google()
    jcenter()
  }

  dependencies {
    classpath 'com.android.tools.build:gradle:3.1.4'
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
  }
}

ext {

  /*
   * Dependency versions. These are simple properties that are referenced in dependency
   * declarations in subprojects.
   */

  dependency_android_test_espresso_version = "3.0.2"
  dependency_android_test_support_version = "1.0.1"
  dependency_autovalue_version = "1.3"
  dependency_exoplayer_version = "r1.5.15"
  dependency_guava_version = "23.6.1-android"
  dependency_jackson_version = "2.9.5"
  dependency_jcip_version = "1.0-1"
  dependency_joda_time_version = "2.9.9"
  dependency_junit_version = "4.12"
  dependency_logback_android_version = "1.1.1-6"
  dependency_logback_classic_version = "1.2.3"
  dependency_okhttp3_version = "3.6.0"
  dependency_recyclerview_version = "27.1.1"
  dependency_rxjava_version = "1.2.3"
  dependency_slf4j_version = "1.7.25"
  dependency_support_v4_version = "27.1.1"
  dependency_support_v7_version = "27.1.1"
  dependency_support_design_version = "27.1.1"
}

allprojects {
  group = 'org.nypl.audiobook'
  version = '2.0.1-SNAPSHOT'

  apply plugin: 'maven'
  apply plugin: 'maven-publish'
}

subprojects {
  repositories {

    mavenCentral()
    mavenLocal()
    maven {
      url "https://maven.google.com"
    }

    jcenter()
    google()
  }

  publishing {
    repositories {
      maven {
        url "https://nexus.librarysimplified.org:8443/nexus/content/repositories/releases-no-drm/"

        credentials {
          username findProperty("org.librarysimplified.nexus.username")
          password findProperty("org.librarysimplified.nexus.password")
        }
      }
    }
  }
}
